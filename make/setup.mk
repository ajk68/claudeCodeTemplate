# Development setup commands

.PHONY: setup install install-python install-node sync sync-all setup-mcp setup-mcp-auto

# === Initial Setup ===
setup: ## Run initial project setup wizard
	@echo "ðŸš€ Starting project setup wizard..."
	@python make/tools/setup_project.py

# === Development Setup ===
install: ## Install all project dependencies (Python + Node.js)
	@echo "ðŸ”„ Installing Python dependencies..."
	uv sync --all-extras
	@echo "ðŸ”„ Installing Node.js dependencies..."
	npm install
	@echo "âœ… All dependencies installed successfully!"
	@echo ""
	@echo "ðŸ’¡ Run 'make setup-mcp' to configure MCP servers for Claude Code"

install-python: ## Install Python dependencies only
	uv sync --all-extras

install-node: ## Install Node.js dependencies only
	npm install

sync: ## Sync Python dependencies with uv (update lock file)
	uv sync --all-extras --upgrade

sync-all: ## Sync all dependencies (Python + Node.js)
	@echo "ðŸ”„ Syncing Python dependencies..."
	uv sync --all-extras --upgrade
	@echo "ðŸ”„ Updating Node.js dependencies..."
	npm update
	@echo "âœ… All dependencies synced!"

# === MCP Server Setup ===
setup-mcp: ## Display MCP server setup commands for Claude Code
	@echo "ðŸ¤– Generating MCP server setup commands..."
	@python make/tools/setup_mcp_servers.py

setup-mcp-auto: ## Automatically execute MCP server setup commands
	@echo "ðŸ¤– Setting up MCP servers for Claude Code..."
	@python make/tools/setup_mcp_servers.py --auto
	@echo ""
	@echo "âœ… MCP servers configured! Please restart Claude Code to load them."